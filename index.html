<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hakimlik Notlarƒ±m - ƒ∞dari Yargƒ± Ar≈üivi</title>
    
    <link rel="icon" href="favicon.svg" type="image/svg+xml">
    <link rel="preload" href="header-bg.jpg.jpg" as="image">
    <link href="https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400&family=Segoe+UI:wght@400;600;700&display=swap" rel="stylesheet">

    <style>
        /* --- TEMEL AYARLAR --- */
        body { font-family: "Segoe UI", sans-serif; background-color: #f4f6f8; color: #333; margin: 0; padding: 0; line-height: 1.6; }
        :root { --primary-color: #006064; --secondary-color: #1b5e20; --gold-color: #d4af37; --text-dark: #263238; }
        h1, h2, h3 { font-family: "Georgia", serif; }

        /* Gƒ∞Rƒ∞≈û EKRANI */
        #loginOverlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: #1a1a1a; z-index: 9999; display: flex; flex-direction: column; justify-content: center; align-items: center; color: #fff; }
        .login-box { background: #263238; padding: 40px; border-radius: 10px; border-top: 5px solid var(--gold-color); box-shadow: 0 20px 50px rgba(0,0,0,0.5); text-align: center; width: 90%; max-width: 400px; }
        .login-title { font-family: "Georgia", serif; font-size: 1.8em; margin-bottom: 20px; color: var(--gold-color); }
        .login-input { width: 100%; padding: 12px; margin-bottom: 15px; border: 1px solid #455a64; background: #37474f; color: #fff; border-radius: 5px; outline: none; font-size: 1em; box-sizing: border-box; }
        .login-btn { width: 100%; padding: 12px; background: var(--gold-color); color: #263238; font-weight: bold; border: none; border-radius: 5px; cursor: pointer; font-size: 1.1em; transition: background 0.3s; }
        .login-btn:hover { background: #ffca28; }
        .login-error { color: #ff5252; margin-top: 10px; font-size: 0.9em; display: none; }

        /* Gƒ∞ZLƒ∞ ƒ∞√áERƒ∞K */
        #appContent { display: none; }

        /* HEADER */
        header { background-color: #2b0a0a; background-image: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('header-bg.jpg.jpg'); background-size: cover; background-position: center; background-attachment: fixed; color: #fff; padding: 80px 20px 160px 20px; text-align: center; position: relative; border-bottom: 1px solid rgba(255,255,255,0.1); }
        header h1 { margin: 0; font-size: 3.5em; letter-spacing: 3px; font-weight: normal; text-shadow: 0 5px 15px rgba(0,0,0,0.8); }
        header p { color: #b0bec5; font-style: italic; margin-top: 10px; font-size: 1.2em; font-weight: 300; }

        /* G√úN√úN AYETƒ∞ */
        .verse-container { position: absolute; right: 40px; top: 50%; transform: translateY(-50%); width: 320px; background: rgba(20, 20, 20, 0.7); border: 1px solid rgba(212, 175, 55, 0.4); border-radius: 8px; padding: 15px; text-align: center; backdrop-filter: blur(5px); box-shadow: 0 10px 30px rgba(0,0,0,0.6); transition: all 0.3s ease; z-index: 200; }
        .verse-container:hover { background: rgba(20, 20, 20, 0.95); border-color: var(--gold-color); transform: translateY(-52%); }
        .verse-title { font-size: 0.85em; color: var(--gold-color); text-transform: uppercase; letter-spacing: 2px; margin-bottom: 8px; border-bottom: 1px solid rgba(212, 175, 55, 0.2); padding-bottom: 5px; font-family: "Georgia", serif; }
        .verse-arabic { font-family: 'Amiri', serif; font-size: 1.5em; color: #fff; line-height: 1.5; margin-bottom: 8px; direction: rtl; text-shadow: 0 2px 2px #000; }
        .verse-meal { font-size: 0.95em; color: #eceff1; font-style: italic; margin-bottom: 8px; line-height: 1.4; display: block; }
        .verse-link { display: inline-block; margin-top: 5px; font-size: 0.85em; color: #81d4fa; text-decoration: none; border-bottom: 1px dashed #81d4fa; transition: color 0.3s; cursor: pointer; }
        .verse-link:hover { color: var(--gold-color); border-bottom-color: var(--gold-color); }
        .verse-link::after { content: " üîó (Tefsiri Oku)"; font-size: 0.8em; opacity: 0.7; }

        /* --- TAKVƒ∞M (D√úZELTƒ∞LMƒ∞≈û CSS) --- */
        .magic-calendar-wrapper { position: relative; width: 600px; margin: -100px auto 40px auto; z-index: 100; }
        .calendar-card { display: flex; background: #fff; border-radius: 12px; overflow: hidden; box-shadow: 0 20px 50px rgba(0,0,0,0.4); position: relative; z-index: 102; transition: transform 0.3s ease; }
        .magic-calendar-wrapper:hover .calendar-card { transform: translateY(-5px); }
        
        .cal-half { flex: 1; text-align: center; display: flex; flex-direction: column; }
        
        /* Ba≈ülƒ±k Bloƒüu (D√ºzeltme Burada) */
        .cal-top-block { 
            padding: 15px 0; 
            color: #fff; 
            display: flex;           /* Flexbox a√ßƒ±ldƒ± */
            flex-direction: column;  /* Alt alta dizilimi zorunlu kƒ±ldƒ±k */
            justify-content: center;
            align-items: center;
            min-height: 70px;        /* Y√ºkseklik verildi */
        }
        .cal-miladi .cal-top-block { background-color: var(--primary-color); }
        .cal-hicri .cal-top-block { background-color: var(--secondary-color); }
        
        .cal-label { 
            font-size: 0.85em; 
            text-transform: uppercase; 
            letter-spacing: 2px; 
            font-weight: bold; 
            display: block;      /* Blok eleman yapƒ±ldƒ± */
            opacity: 0.9; 
            margin-bottom: 5px;  /* Altƒ±na bo≈üluk */
        }
        .cal-day-name { 
            font-size: 1.1em; 
            font-weight: 600; 
            display: block;      /* Blok eleman yapƒ±ldƒ± */
            margin-top: 0; 
            line-height: 1.2;
        }

        .cal-body-block { padding: 15px 0 20px 0; background-color: #fff; flex-grow: 1; display: flex; flex-direction: column; justify-content: center; }
        .cal-date-big { font-size: 3.5em; font-family: "Georgia", serif; font-weight: bold; line-height: 1; color: var(--text-dark); }
        .cal-month-year { font-size: 0.9em; color: #78909c; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; margin-top: 5px; }
        
        .history-drawer { position: absolute; top: 90%; left: 15px; right: 15px; background: #fff; border-radius: 0 0 12px 12px; box-shadow: 0 15px 30px rgba(0,0,0,0.2); max-height: 0; opacity: 0; overflow: hidden; z-index: 101; transition: all 0.5s cubic-bezier(0.25, 1, 0.5, 1); }
        .magic-calendar-wrapper:hover .history-drawer { max-height: 500px; opacity: 1; top: 100%; }
        .drawer-content { padding: 15px; background-color: #fff; border-top: 4px solid var(--primary-color); }
        .history-list { list-style: none; padding: 0; margin: 0; max-height: 400px; overflow-y: auto; text-align: left; }
        .history-list::-webkit-scrollbar { width: 6px; }
        .history-list::-webkit-scrollbar-thumb { background: #ccc; border-radius: 4px; }
        .history-list li { padding: 8px 0; border-bottom: 1px solid #eee; font-size: 0.9em; color: #455a64; line-height: 1.4; }
        .year-badge { font-weight: bold; color: var(--primary-color); margin-right: 5px; }

        /* KOKPƒ∞T */
        .info-strip { max-width: 1100px; margin: 0 auto 50px auto; padding: 0 20px; display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; }
        .info-card { background: #fff; border-radius: 8px; padding: 15px; border: 1px solid #e0e0e0; text-align: center; border-bottom: 4px solid #ccc; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .card-exam { border-bottom-color: #d32f2f; } .card-study { border-bottom-color: var(--primary-color); } .card-word { border-bottom-color: var(--gold-color); }
        .info-icon { font-size: 1.5em; display: block; margin-bottom: 5px; }
        .info-label { font-size: 0.8em; color: #777; text-transform: uppercase; font-weight: bold; display: block;}
        .info-value { font-size: 1.1em; font-weight: bold; color: #333; margin-top: 5px; }

        /* MAKALELER */
        .content-container { max-width: 1100px; margin: 0 auto 60px auto; padding: 0 20px; }
        .article-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 25px; margin-bottom: 50px; }
        .article-card { background: #fff; border: 1px solid #e0e0e0; border-radius: 8px; padding: 25px; position: relative; transition: all 0.3s ease; box-shadow: 0 2px 5px rgba(0,0,0,0.05); border-left: 5px solid var(--primary-color); display: flex; flex-direction: column; justify-content: space-between; }
        .article-card:hover { transform: translateY(-5px) scale(1.01); box-shadow: 0 15px 30px rgba(0,96,100,0.15); border-color: var(--primary-color); cursor: pointer; }
        .card-link-overlay { position: absolute; top: 0; left: 0; right: 0; bottom: 0; z-index: 1; }
        .meta-date { font-size: 0.8em; color: #90a4ae; text-transform: uppercase; letter-spacing: 1px; font-weight: 700; margin-bottom: 10px; }
        .article-title { font-size: 1.4em; margin: 0 0 10px 0; line-height: 1.3; color: var(--text-dark); font-family: "Georgia", serif; }
        .excerpt { font-size: 0.95em; color: #546e7a; line-height: 1.6; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }
        .read-more-icon { margin-top: 15px; font-size: 0.9em; color: var(--primary-color); font-weight: bold; opacity: 0; transform: translateX(-10px); transition: all 0.3s ease; }
        .article-card:hover .read-more-icon { opacity: 1; transform: translateX(0); }

        /* AR≈ûƒ∞V B√ñL√úM√ú */
        .archive-section { max-width: 1100px; margin: 0 auto 50px auto; padding: 0 20px; display: grid; grid-template-columns: 1fr 2fr; gap: 30px; }
        .entry-card { background: #fff; border-radius: 10px; padding: 25px; border: 1px solid #e0e0e0; box-shadow: 0 4px 15px rgba(0,0,0,0.05); border-top: 5px solid var(--primary-color); height: fit-content; }
        .section-header { font-size: 1.1em; font-weight: bold; color: var(--primary-color); margin-bottom: 20px; text-transform: uppercase; border-bottom: 2px solid #eee; padding-bottom: 10px; }
        .input-group { margin-bottom: 15px; }
        .input-label { display: block; font-size: 0.85em; font-weight: bold; color: #666; margin-bottom: 5px; }
        .form-input, .form-textarea, .form-select { width: 93%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; font-family: inherit; outline: none; transition: border-color 0.3s; }
        .form-input:focus, .form-textarea:focus, .form-select:focus { border-color: var(--primary-color); }
        #customTagContainer { display: none; margin-top: 10px; }
        .btn-save { width: 100%; padding: 12px; background-color: var(--primary-color); color: #fff; border: none; border-radius: 5px; font-weight: bold; cursor: pointer; transition: background 0.3s; margin-top: 10px; }
        .btn-save:hover { background-color: #004d40; }

        .list-card { background: #fff; border-radius: 10px; padding: 25px; border: 1px solid #e0e0e0; box-shadow: 0 4px 15px rgba(0,0,0,0.05); border-top: 5px solid var(--secondary-color); }
        .archive-list { list-style: none; padding: 0; margin: 0; max-height: 800px; overflow-y: auto; }
        
        .archive-item { margin-bottom: 15px; border: 1px solid #eee; border-radius: 6px; overflow: hidden; transition: all 0.3s; }
        .archive-item:hover { box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
        
        .archive-item.urgency-high { border-left: 5px solid #d32f2f; background-color: #ffebee; }
        .archive-item.urgency-medium { border-left: 5px solid #fbc02d; background-color: #fffde7; }
        .archive-item.urgency-low { border-left: 5px solid #388e3c; background-color: #fff; }

        .archive-header { padding: 15px; cursor: pointer; display: flex; justify-content: space-between; align-items: center; transition: background 0.2s; }
        .urgency-high .archive-header { background: rgba(211, 47, 47, 0.05); }
        .urgency-medium .archive-header { background: rgba(251, 192, 45, 0.05); }

        .header-content { display: flex; align-items: center; gap: 12px; flex-grow: 1; overflow: hidden; }
        .item-tag { font-size: 0.75em; font-weight: bold; color: #fff; background-color: #78909c; padding: 3px 8px; border-radius: 4px; text-transform: uppercase; white-space: nowrap; }
        .item-question { font-weight: bold; color: #333; font-size: 1em; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .review-status { font-size: 0.75em; font-weight: bold; margin-left: 10px; white-space: nowrap; }
        .status-text-high { color: #d32f2f; } .status-text-med { color: #f57f17; } .status-text-low { color: #388e3c; }

        .header-controls { display: flex; align-items: center; gap: 15px; }
        .toggle-icon { font-size: 0.8em; color: #999; transition: transform 0.3s; }
        .archive-body { display: none; padding: 20px; background: #fff; border-top: 1px solid #eee; }
        .archive-item.expanded .archive-body { display: block; }
        .archive-item.expanded .toggle-icon { transform: rotate(180deg); }
        .item-answer { font-size: 0.95em; color: #555; white-space: pre-wrap; line-height: 1.6; }
        .item-footer { margin-top: 20px; display: flex; justify-content: space-between; align-items: center; border-top: 1px dashed #eee; padding-top: 10px; }
        .item-date { font-size: 0.75em; color: #999; }
        .btn-reviewed { background-color: var(--primary-color); color: white; border: none; padding: 8px 15px; border-radius: 20px; cursor: pointer; font-size: 0.85em; font-weight: bold; display: flex; align-items: center; gap: 5px; transition: background 0.3s; }
        .btn-reviewed:hover { background-color: #004d40; }
        .delete-btn-note { color: #ccc; cursor: pointer; font-size: 1.2em; margin-left: 15px; }
        .delete-btn-note:hover { color: #c62828; }

        /* ARA√áLAR */
        .widgets-container { max-width: 1100px; margin: 0 auto 40px auto; padding: 0 20px; display: grid; grid-template-columns: 1fr 1fr; gap: 30px; }
        .widget-card { background: #fff; border-radius: 8px; padding: 20px; border: 1px solid #e0e0e0; box-shadow: 0 2px 5px rgba(0,0,0,0.05); text-align: center; }
        .widget-title { font-weight: bold; color: #555; text-transform: uppercase; border-bottom: 1px solid #eee; padding-bottom: 5px; margin-bottom: 10px; }
        .timer-display { font-family: 'Courier New', monospace; font-size: 2.5em; font-weight: bold; color: #333; }
        .btn-mini { padding: 5px 15px; margin: 5px; cursor: pointer; border:none; border-radius:4px; color:white; font-weight:bold; }
        .bg-green { background: #2e7d32; } .bg-red { background: #c62828; } .bg-gray { background: #78909c; }
        .todo-list-ul { list-style: none; padding: 0; margin-top: 10px; max-height: 150px; overflow-y: auto; text-align:left; }
        .todo-list-ul li { padding: 8px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; cursor: pointer; font-size: 0.9em; }
        .todo-list-ul li.checked { text-decoration: line-through; color: #aaa; }

        @media (max-width: 950px) {
            .archive-section, .widgets-container, .info-strip, .article-grid { grid-template-columns: 1fr; }
            .magic-calendar-wrapper { width: 90%; margin-top: -40px; }
            .verse-container { position: relative; width: 90%; right: auto; top: auto; transform: none; margin: 20px auto; }
            header { padding-top: 40px; }
        }
    </style>
</head>
<body>

    <div id="loginOverlay">
        <div class="login-box">
            <div class="login-title">HAKƒ∞MLƒ∞K AR≈ûƒ∞Vƒ∞</div>
            <p style="margin-bottom:20px; color:#aaa; font-size:0.9em;">G√ºvenli Eri≈üim Paneli</p>
            <input type="email" id="email" class="login-input" placeholder="E-posta">
            <input type="password" id="password" class="login-input" placeholder="≈ûifre">
            <button id="loginBtn" class="login-btn">Gƒ∞Rƒ∞≈û YAP</button>
            <div id="loginError" class="login-error">Hatalƒ± bilgi!</div>
        </div>
    </div>

    <div id="appContent">
        <header>
            <h1>HAKƒ∞MLƒ∞K NOTLARIM</h1>
            <p>ƒ∞dari yargƒ±, anayasa hukuku ve hukuk tarihi √ºzerine ar≈üiv √ßalƒ±≈ümasƒ±.</p>

            <div class="verse-container">
                <div class="verse-title">G√ºn√ºn Ayeti</div>
                <div class="verse-arabic" id="verseArabic">...</div>
                <div class="verse-meal" id="verseMeal">Y√ºkleniyor...</div>
                <a href="#" id="verseLink" target="_blank" class="verse-link">...</a>
            </div>
        </header>

        <div class="magic-calendar-wrapper">
            <div class="calendar-card">
                <div class="cal-half cal-miladi"><div class="cal-top-block"><span class="cal-label">Mƒ∞LADƒ∞</span><span class="cal-day-name" id="miladiDayName">...</span></div><div class="cal-body-block"><span class="cal-date-big" id="miladiNumber">--</span><div class="cal-month-year"><span id="miladiMonth">...</span> <span id="miladiYear">...</span></div></div></div>
                <div class="cal-half cal-hicri"><div class="cal-top-block"><span class="cal-label">Hƒ∞CRƒ∞</span><span class="cal-day-name" id="hicriDayName">...</span></div><div class="cal-body-block"><span class="cal-date-big" id="hicriNumber">--</span><div class="cal-month-year"><span id="hicriMonth">...</span> <span id="hicriYear">...</span></div></div></div>
            </div>
            <div class="history-drawer"><div class="drawer-content"><ul class="history-list" id="historyList"><li style="text-align:center; color:#999;">Tarih√ße y√ºkleniyor...</li></ul></div></div>
        </div>

        <div class="info-strip">
            <div class="info-card card-exam"><span class="info-icon">‚è≥</span><span class="info-label">Sƒ±nava Kalan</span><div class="info-value" id="examCountdown">...</div></div>
            <div class="info-card card-study"><span class="info-icon">üìö</span><span class="info-label">Bug√ºn√ºn Konusu</span><div class="info-value" id="dailyTopic">...</div></div>
            <div class="info-card card-word"><span class="info-icon">üìñ</span><span class="info-label">G√ºn√ºn Istƒ±lahƒ±</span><div class="info-value" id="dailyWord">...</div><div style="font-size:0.85em; color:#666;" id="dailyMeaning">...</div></div>
        </div>

        <div class="content-container">
            <div class="article-grid">
                <div class="article-card"><a href="renan-makalesi.html" class="card-link-overlay"></a><div><div class="meta-date">27 KASIM 2025</div><h2 class="article-title">Ernest Renan'ƒ±n "ƒ∞slam ve Bilim" Konferansƒ±</h2><p class="excerpt">ƒ∞slam'ƒ±n ilerlemeye engel olduƒüu iddiasƒ± ve Namƒ±k Kemal'in buna kar≈üƒ± yazdƒ±ƒüƒ± tarihi reddiyenin analizi...</p></div><div class="read-more-icon">ƒ∞ncele ‚Üí</div></div>
                <div class="article-card"><a href="#" class="card-link-overlay"></a><div><div class="meta-date">15 KASIM 2025</div><h2 class="article-title">ƒ∞YUK Madde 2 ve Menfaat ƒ∞hlali</h2><p class="excerpt">ƒ∞dari Yargƒ±lama Usul√º Kanunu kapsamƒ±nda iptal davalarƒ±nƒ±n √∂n ko≈üulu olan "menfaat ihlali" kavramƒ±...</p></div><div class="read-more-icon">ƒ∞ncele ‚Üí</div></div>
                <div class="article-card"><a href="#" class="card-link-overlay"></a><div><div class="meta-date">01 KASIM 2025</div><h2 class="article-title">T√ºrk ƒ∞dari Te≈ükilatƒ±nda "Yetki Geni≈üliƒüi"</h2><p class="excerpt">Merkezi idarenin ta≈üra te≈ükilatƒ±ndaki yansƒ±masƒ± olan yetki geni≈üliƒüi ilkesinin incelenmesi...</p></div><div class="read-more-icon">ƒ∞ncele ‚Üí</div></div>
                <div class="article-card"><a href="#" class="card-link-overlay"></a><div><div class="meta-date">20 EKƒ∞M 2025</div><h2 class="article-title">Anayasa Mahkemesi Bireysel Ba≈üvuru</h2><p class="excerpt">M√ºlkiyet hakkƒ±nƒ±n ihlali iddialarƒ±nda AYM'nin son d√∂nemde verdiƒüi pilot kararlar...</p></div><div class="read-more-icon">ƒ∞ncele ‚Üí</div></div>
            </div>
        </div>

        <div class="archive-section">
            <div class="entry-card">
                <div class="section-header">Bilgi / Soru Kaydet</div>
                <div class="input-group"><label class="input-label">Ders / Konu</label><select id="noteTag" class="form-select" onchange="checkCustomTag(this)"><option value="Genel">Genel Not</option><option value="Anayasa">Anayasa</option><option value="ƒ∞dare">ƒ∞dare</option><option value="Ceza">Ceza</option><option value="Medeni">Medeni</option><option value="Tarih">Tarih</option><option value="custom" style="color:var(--primary-color); font-weight:bold;">+ Ekle...</option></select><div id="customTagContainer"><input type="text" id="customTagInput" class="form-input" placeholder="Konu Adƒ±"></div></div>
                <div class="input-group"><label class="input-label">Ba≈ülƒ±k</label><input type="text" id="noteQuestion" class="form-input" placeholder="Ba≈ülƒ±k..."></div>
                <div class="input-group"><label class="input-label">ƒ∞√ßerik</label><textarea id="noteAnswer" class="form-textarea" rows="6" placeholder="Notlar..."></textarea></div>
                <button id="saveBtn" class="btn-save">AR≈ûƒ∞VE KAYDET</button>
            </div>
            <div class="list-card">
                <div class="section-header">Bulut Ar≈üivi</div>
                <ul id="archiveList" class="archive-list"><li style="text-align:center; padding:20px; color:#999;">Veriler y√ºkleniyor...</li></ul>
            </div>
        </div>

        <div class="widgets-container">
            <div class="widget-card" style="border-top:4px solid #d32f2f;"><div class="widget-title">G√úNL√úK √áALI≈ûMA</div><div class="timer-display" id="timerDisplay">00:00:00</div><div class="timer-controls"><button class="btn-mini bg-green" onclick="startTimer()">Ba≈ülat</button><button class="btn-mini bg-red" onclick="stopTimer()">Durdur</button></div></div>
            <div class="widget-card" style="border-top:4px solid var(--primary-color);"><div class="widget-title">G√ñREVLER</div><div style="display:flex; gap:5px;"><input type="text" id="todoInput" class="form-input" placeholder="G√∂rev..."><button onclick="addTodo()" class="btn-mini bg-green">EKLE</button></div><ul id="todoList" class="todo-list-ul"></ul></div>
        </div>
    </div>

    <script>
        // Yardƒ±mcƒ± Fonksiyonlar
        function getDiyanetLink(linkData) { return `https://kuran.diyanet.gov.tr/tefsir/${linkData}`; }
        function checkCustomTag(select) { document.getElementById('customTagContainer').style.display = select.value === 'custom' ? 'block' : 'none'; }

        document.addEventListener("DOMContentLoaded", function() {
            // TAKVƒ∞M
            const bugun = new Date();
            const aylar = ["OCAK", "≈ûUBAT", "MART", "Nƒ∞SAN", "MAYIS", "HAZƒ∞RAN", "TEMMUZ", "AƒûUSTOS", "EYL√úL", "EKƒ∞M", "KASIM", "ARALIK"];
            const gunler = ["Pazar", "Pazartesi", "Salƒ±", "√áar≈üamba", "Per≈üembe", "Cuma", "Cumartesi"];
            
            document.getElementById("miladiMonth").innerText = aylar[bugun.getMonth()];
            document.getElementById("miladiYear").innerText = bugun.getFullYear();
            document.getElementById("miladiDayName").innerText = gunler[bugun.getDay()];
            document.getElementById("miladiNumber").innerText = bugun.getDate();
            
            document.getElementById("hicriMonth").innerText = "CEMAZƒ∞YELEVVEL"; 
            document.getElementById("hicriYear").innerText = "1447";
            document.getElementById("hicriNumber").innerText = bugun.getDate();

            // AYET
            const ayetler = [
                { arapca: "ÿ•ŸêŸÜŸëŸé ÿßŸÑŸÑŸëŸéŸáŸé ŸäŸéÿ£ŸíŸÖŸèÿ±Ÿè ÿ®ŸêÿßŸÑŸíÿπŸéÿØŸíŸÑŸê", meal: "≈û√ºphesiz Allah, adaleti emreder.", ref: "Nahl 90", link: "nahl-suresi/1991/90-ayet" },
                { arapca: "ŸÉŸèŸàŸÜŸèŸàÿß ŸÇŸéŸàŸëŸéÿßŸÖŸêŸäŸÜŸé ÿ®ŸêÿßŸÑŸíŸÇŸêÿ≥Ÿíÿ∑Ÿê", meal: "Adaleti titizlikle ayakta tutanlar olun.", ref: "Nisa 135", link: "nisa-suresi/628/135-ayet" },
                { arapca: "ŸàŸéÿ£ŸéŸÜŸí ŸÑŸéŸäŸíÿ≥Ÿé ŸÑŸêŸÑŸíÿ•ŸêŸÜŸíÿ≥ŸéÿßŸÜŸê ÿ•ŸêŸÑŸëŸéÿß ŸÖŸéÿß ÿ≥ŸéÿπŸéŸâ", meal: "ƒ∞nsan i√ßin ancak √ßalƒ±≈ütƒ±ƒüƒ± vardƒ±r.", ref: "Necm 39", link: "necm-suresi/4823/39-ayet" },
                { arapca: "ŸÑŸéÿß ÿ•ŸêŸÉŸíÿ±ŸéÿßŸáŸé ŸÅŸêŸä ÿßŸÑÿØŸëŸêŸäŸÜŸê", meal: "Dinde zorlama yoktur.", ref: "Bakara 256", link: "bakara-suresi/263/256-ayet" }
            ];
            const secilen = ayetler[bugun.getDate() % ayetler.length];
            document.getElementById("verseArabic").innerText = secilen.arapca;
            document.getElementById("verseMeal").innerText = secilen.meal;
            const vLink = document.getElementById("verseLink");
            vLink.innerText = secilen.ref;
            vLink.href = getDiyanetLink(secilen.link);

            // WIKI
            fetch(`https://tr.wikipedia.org/api/rest_v1/feed/onthisday/events/${bugun.getMonth()+1}/${bugun.getDate()}`)
                .then(r => r.json())
                .then(d => {
                    const l = document.getElementById("historyList"); l.innerHTML="";
                    d.events.slice(0,10).forEach(e => {
                        let li = document.createElement("li");
                        li.innerHTML = `<span class="year-badge">${e.year}</span> ${e.text}`;
                        l.appendChild(li);
                    });
                })
                .catch(() => { document.getElementById("historyList").innerHTML = "<li>Baƒülantƒ± kurulamadƒ±.</li>"; });

            // KRONOMETRE (Local Storage)
            let sec = localStorage.getItem('timerSec') ? parseInt(localStorage.getItem('timerSec')) : 0;
            let tInt;
            const tDisp = document.getElementById('timerDisplay');
            function upT() { tDisp.innerText = new Date(sec * 1000).toISOString().substr(11, 8); }
            upT();
            window.startTimer = () => { clearInterval(tInt); tInt = setInterval(() => { sec++; localStorage.setItem('timerSec', sec); upT(); }, 1000); };
            window.stopTimer = () => clearInterval(tInt);
            window.resetTimer = () => { if(confirm("Sƒ±fƒ±rla?")) { sec=0; localStorage.setItem('timerSec', 0); upT(); } };

            // TO-DO (Local Storage)
            const ul = document.getElementById('todoList');
            function loadTodo() {
                const t = JSON.parse(localStorage.getItem('todoList')) || [];
                ul.innerHTML="";
                t.forEach((task,i) => {
                    let li=document.createElement('li'); li.innerText=task.text; if(task.done) li.classList.add('checked');
                    li.onclick=()=>{ t.splice(i,1); localStorage.setItem('todoList',JSON.stringify(t)); loadTodo(); };
                    ul.appendChild(li);
                });
            }
            window.addTodo = () => {
                const v = document.getElementById('todoInput').value; if(!v)return;
                const t = JSON.parse(localStorage.getItem('todoList')) || [];
                t.push({text:v, done:false}); localStorage.setItem('todoList',JSON.stringify(t));
                document.getElementById('todoInput').value=""; loadTodo();
            };
            loadTodo();

            // KOKPƒ∞T
            const mufredat = ["Pazar: YDS", "Pazartesi: Anayasa", "Salƒ±: ƒ∞dare", "√áar≈üamba: Tarih", "Per≈üembe: Medeni", "Cuma: Bor√ßlar", "Cumartesi: Deneme"];
            const lugat = [{ k: "Beraat-i Zimmet", a: "Su√ßsuzluk esasƒ±." }, { k: "M√ºtemmim C√ºz", a: "B√ºt√ºnleyici par√ßa." }, { k: "Tevsi-i Mezuniyet", a: "Yetki geni≈üliƒüi." }, { k: "Ahde Vefa", a: "S√∂ze sadƒ±klƒ±k." }, { k: "M√ºcbir Sebep", a: "Dƒ±≈ü etken." }, { k: "Hakk-ƒ± M√ºktesep", a: "Kazanƒ±lmƒ±≈ü hak." }, { k: "Karine", a: "Belirti." }];
            document.getElementById("dailyTopic").innerText = mufredat[bugun.getDay()];
            document.getElementById("dailyWord").innerText = lugat[bugun.getDay()].k;
            document.getElementById("dailyMeaning").innerText = lugat[bugun.getDay()].a;

            const sinavTarihi = new Date("December 20, 2025 09:30:00").getTime();
            setInterval(() => {
                const fark = sinavTarihi - new Date().getTime();
                document.getElementById("examCountdown").innerText = `${Math.floor(fark / (1000 * 60 * 60 * 24))} G√ºn ${Math.floor((fark % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60))} Saat`;
            }, 1000);
        });
    </script>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
        import { getAuth, signInWithEmailAndPassword, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-auth.js";
        import { getFirestore, collection, addDoc, getDocs, deleteDoc, doc, query, orderBy, updateDoc } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDyM2wuew7HJL04c6unXReHf5RbNUMFMt4",
            authDomain: "hakimlik-arsivi.firebaseapp.com",
            projectId: "hakimlik-arsivi",
            storageBucket: "hakimlik-arsivi.firebasestorage.app",
            messagingSenderId: "370651582536",
            appId: "1:370651582536:web:59961444328193a564c87d"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        // Gƒ∞Rƒ∞≈û
        const loginOverlay = document.getElementById('loginOverlay');
        const appContent = document.getElementById('appContent');
        const loginBtn = document.getElementById('loginBtn');
        const loginError = document.getElementById('loginError');

        onAuthStateChanged(auth, (user) => {
            if (user) {
                loginOverlay.style.display = 'none';
                appContent.style.display = 'block';
                loadArchiveFromCloud();
            }
        });

        loginBtn.addEventListener('click', () => {
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            signInWithEmailAndPassword(auth, email, password).catch((error) => {
                loginError.style.display = 'block';
                loginError.innerText = "Hatalƒ± e-posta veya ≈üifre!";
            });
        });

        // BULUT AR≈ûƒ∞V
        const archiveList = document.getElementById('archiveList');
        const saveBtn = document.getElementById('saveBtn');

        async function loadArchiveFromCloud() {
            archiveList.innerHTML = "";
            const q = query(collection(db, "notes"), orderBy("lastReview")); 
            const querySnapshot = await getDocs(q);
            
            if(querySnapshot.empty) {
                archiveList.innerHTML = "<li style='text-align:center; color:#999; padding:20px;'>Hen√ºz not yok.</li>";
                return;
            }

            querySnapshot.forEach((docSnap) => {
                const n = docSnap.data();
                const id = docSnap.id;
                const lastRev = new Date(n.lastReview);
                const diffDays = Math.floor((new Date() - lastRev) / (1000 * 60 * 60 * 24));
                
                let urgencyClass = "urgency-low", statusText = "‚úîÔ∏è G√ºncel";
                if (diffDays > 7) { urgencyClass = "urgency-high"; statusText = `‚ö†Ô∏è ${diffDays} G√ºnd√ºr Bakƒ±lmadƒ±!`; }
                else if (diffDays > 3) { urgencyClass = "urgency-medium"; statusText = `‚ö†Ô∏è ${diffDays} G√ºn Oldu`; }

                let tagColor = "#78909c";
                if(n.tag=="Anayasa") tagColor="#d32f2f"; if(n.tag=="ƒ∞dare") tagColor="#006064";

                const li = document.createElement("li");
                li.className = `archive-item ${urgencyClass}`;
                li.innerHTML = `
                    <div class="archive-header">
                        <div class="header-content">
                            <span class="item-tag" style="background:${tagColor}">${n.tag}</span>
                            <span class="item-question">${n.question}</span>
                            <span class="review-status">${statusText}</span>
                        </div>
                        <div class="header-controls"><span class="toggle-icon">‚ñº</span></div>
                    </div>
                    <div class="archive-body">
                        <div class="item-answer">${n.answer}</div>
                        <div class="item-footer">
                            <span class="item-date">Kayƒ±t: ${new Date(n.createDate).toLocaleDateString()}</span>
                            <div style="display:flex; align-items:center;">
                                <button class="btn-reviewed" id="btn-rev-${id}">‚úÖ Tekrar Ettim</button>
                                <span class="delete-btn-note" id="btn-del-${id}">üóëÔ∏è</span>
                            </div>
                        </div>
                    </div>
                `;
                li.querySelector('.archive-header').onclick = () => li.classList.toggle('expanded');
                li.querySelector(`#btn-rev-${id}`).onclick = () => updateReviewDate(id);
                li.querySelector(`#btn-del-${id}`).onclick = () => deleteNote(id);
                archiveList.appendChild(li);
            });
        }

        saveBtn.addEventListener('click', async () => {
            let t = document.getElementById('noteTag').value;
            if(t === 'custom') t = document.getElementById('customTagInput').value || "Genel";
            const q = document.getElementById('noteQuestion').value;
            const a = document.getElementById('noteAnswer').value;

            if(!q && !a) return alert("Bo≈ü kayƒ±t yapƒ±lamaz.");

            const now = new Date().toISOString();
            await addDoc(collection(db, "notes"), {
                tag: t, question: q, answer: a,
                createDate: now, lastReview: "2000-01-01T00:00:00.000Z" 
            });

            document.getElementById('noteQuestion').value = "";
            document.getElementById('noteAnswer').value = "";
            loadArchiveFromCloud();
        });

        async function updateReviewDate(id) {
            const noteRef = doc(db, "notes", id);
            await updateDoc(noteRef, { lastReview: new Date().toISOString() });
            loadArchiveFromCloud();
        }

        async function deleteNote(id) {
            if(confirm("Silinsin mi?")) {
                await deleteDoc(doc(db, "notes", id));
                loadArchiveFromCloud();
            }
        }
    </script>

</body>
</html>